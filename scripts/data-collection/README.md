# Сбор данных о профессиях

Этот каталог содержит скрипты для сбора данных о востребованности профессий и зарплатах в Беларуси.

## Структура

- `collect-forecasts.ts` - Сбор прогнозов востребованности профессий из открытых источников
- `collect-salaries.ts` - Подготовка данных о зарплатах по профессиям
- `output/` - Выходные данные (JSON и SQL файлы)

## Источники данных

1. **myfin.by** - Прогноз востребованности профессий в Минске на 2026 год
2. **neg.by** - Расширенный прогноз Мингорисполкома
3. **kudapostupat.by** - Прогноз Минтруда на 2026-2030 годы
4. **rabota.by** - Данные о зарплатах и вакансиях

## Установка зависимостей

```bash
cd scripts/data-collection
npm install
```

## Запуск

### Сбор прогнозов востребованности

```bash
npm run collect:forecasts
```

Этот скрипт:
- Собирает данные из 3 источников
- Объединяет дубликаты
- Добавляет связи со специальностями вузов
- Генерирует JSON и SQL файлы

### Подготовка данных о зарплатах

```bash
npm run collect:salaries
```

Этот скрипт:
- Подготавливает данные о зарплатах для профессий из прогнозов
- Генерирует JSON и SQL файлы
- Примечание: данные основаны на маркетинговых исследованиях

### Запуск всех скриптов

```bash
npm run collect:all
```

## Выходные файлы

После выполнения скриптов в папке `output/` будут созданы:

- `profession-forecasts-2026.json` - Прогнозы востребованности
- `profession-forecasts-2026.sql` - SQL для импорта прогнозов
- `profession-salaries-2026.json` - Данные о зарплатах
- `profession-salaries-2026.sql` - SQL для импорта зарплат
- `collection-report.json` - Отчет о сборе прогнозов
- `salary-summary.json` - Сводка по зарплатам

## Импорт в базу данных

### Supabase Dashboard

1. Откройте SQL Editor в Supabase Dashboard
2. Выполните SQL из файла `profession-forecasts-2026.sql`
3. Выполните SQL из файла `profession-salaries-2026.sql`

### psql CLI

```bash
psql $SUPABASE_DB_URL -f output/profession-forecasts-2026.sql
psql $SUPABASE_DB_URL -f output/profession-salaries-2026.sql
```

## Обновление данных

Данные следует обновлять:
- Прогнозы: при публикации новых прогнозов (обычно раз в год)
- Зарплаты: ежемесячно или ежеквартально

## Примечание о реальных данных

Данные о зарплатах в `collect-salaries.ts` основаны на маркетинговых исследованиях.
Для получения актуальных данных рекомендуется:

1. Использовать существующий парсер `rabota.by` из `src/lib/parsing-client.ts`
2. Запускать парсинг регулярно для обновления данных
3. Интегрировать результаты парсинга с таблицей `profession_salaries`

## Следующие шаги

После сбора данных:
1. Создать миграции БД (Этап 2)
2. Обработать и нормализовать данные (Этап 3)
3. Создать UI компоненты (Этап 4)
